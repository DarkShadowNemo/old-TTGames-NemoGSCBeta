from struct import unpack, pack
import bpy
import struct
import os
import glob
import math

def vertices_0x03010010380XX6C_(f):
    obdata_ = bpy.context.object.data
    lenSize=0
    for i, extraobdata in enumerate(bpy.data.meshes):
        countlentotal = len(extraobdata.vertices)
        lenSize+=countlentotal
    f.write(b"NU20")
    f.write(pack("<i", -abs(16+16+16+464*len(bpy.data.materials)+16+16+236*len(bpy.data.meshes)+16*lenSize+116*len(bpy.data.meshes)+80*len(bpy.data.objects)+16+16)))
    f.write(pack("<I", 6))
    f.write(pack("<I", 0))
    f.write(b"NTBL")
    f.write(pack("<I", 16))
    f.write(pack("<I", 0))
    f.write(pack("<I", 0))
    ##########################
    f.write(b"MS00")
    f.write(pack("<I", len(bpy.data.materials)*464+16))
    f.write(pack("<I", len(bpy.data.materials)))
    f.write(pack("<I", 0))
    MaterialID=1
    TextureID=1
    MaterialNameID = 0
    matID=1
    BSDF = "Principled BSDF"
    for i, mat in enumerate(bpy.data.materials):
        f.write(pack("B", 13))
        f.write(pack("B", 0))
        f.write(pack("B", 1))
        f.write(pack("B", 0x60))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 16))
        f.write(pack("B", 8))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x50))
        f.write(pack("B", 7))
        f.write(pack("B", 0x80))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 16))
        f.write(pack("B", 14))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x48))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x1B))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x44))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x42))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x8C))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 1))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x4E))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0xDB))
        f.write(pack("B", 0x37))
        f.write(pack("B", 5))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x47))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x7F))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))#1
        f.write(pack("B", 0))#2
        f.write(pack("B", 0))#3
        f.write(pack("B", 0))#4
        f.write(pack("B", 1))
        f.write(pack("B", 1))
        f.write(pack("B", 0))
        f.write(pack("B", 1))
        f.write(pack("B", 0x13))
        f.write(pack("B", 0))
        f.write(pack("B", 3))
        f.write(pack("B", 0x6C))
        f.write(pack("<f", 1))
        f.write(pack("<f", 1))
        f.write(pack("<f", 1))
        f.write(pack("<f", 1))
        for i in range(19):
            f.write(pack("B", 0))
        f.write(pack("B", 0x30))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        for i in range(128):
            f.write(pack("B", 0))
        f.write(pack("B", 0x19))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        f.write(pack("<I", 16384))
        f.write(pack("B", 0xB0))
        f.write(pack("B", 0xE2))
        f.write(pack("B", 0xA3))
        f.write(pack("B", 0))
        f.write(pack("B", 0x80))
        f.write(pack("B", 0x60))
        f.write(pack("B", 0x49))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x3D))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0x58))
        f.write(pack("B", 0xE3))
        f.write(pack("B", 0xA3))
        f.write(pack("B", 0))
        f.write(pack("B", 0xB0))
        f.write(pack("B", 0xDD))
        f.write(pack("B", 0x87))
        f.write(pack("B", 0))
        f.write(pack("B", 0x60))
        f.write(pack("B", 0x7B))
        f.write(pack("B", 0x98))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("<f", 0))
        f.write(pack("B", 0x13))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("<f", mat.node_tree.nodes[BSDF].inputs[0].default_value[0]))
        f.write(pack("<f", mat.node_tree.nodes[BSDF].inputs[0].default_value[1]))
        f.write(pack("<f", mat.node_tree.nodes[BSDF].inputs[0].default_value[2]))
        f.write(pack("<f", 0))
        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("<f", 1))
        f.write(pack("<I", 0))
        f.write(pack("<I", matID))
        f.write(pack("B", 0xA6))
        f.write(pack("B", 255))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("<I", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0xFF))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))
        f.write(pack("B", 0))

        matID+=1
        if matID > -1:
            #todo assign materials not possible
            pass
    f.write(b"OBJ0")
    f.write(pack("<I", lenSize*16+8*len(bpy.data.objects)+228*len(bpy.data.objects)+116*len(bpy.data.objects)+16))
    f.write(pack("<I", len(bpy.data.objects)))
    f.write(pack("<I", 0))
    #VertexDataCount = len(obd.vertices)
    indexFaces2=0
    for i, obdata in enumerate(bpy.data.meshes):
        if len(obdata.vertices) == 3:
            
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 208))

            f.write(pack("<H", len(obdata.vertices)*3))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))
            indexFaces = -1
            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))
            for facs in obdata.polygons:
                indexFaces+=1
                f.seek(-48,1)
                if indexFaces == 0:
                    f.seek(12,1)
                    f.write(pack("B", 1))
                    f.write(pack("B", 128))
                    f.seek(2,1)
                    f.seek(12,1)
                    f.write(pack("B", 1))
                    f.write(pack("B", 128))
                    f.seek(2,1)
                    f.seek(12,1)
                    f.write(pack("B", 0))
                    f.write(pack("B", 0))
                    f.seek(2,1)
            
            
            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
        elif len(obdata.vertices) == 4:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 224))

            f.write(pack("<H", len(obdata.vertices)*3))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))
            indexFaces = -1
            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))
            for facs in obdata.polygons:
                indexFaces+=1
                if indexFaces == 1:
                    f.seek(-64,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
            
            
            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))

        elif len(obdata.vertices) == 5:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 240))

            f.write(pack("<H", len(obdata.vertices)*3))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))
            indexFaces = -1
            indexEdges = -1
            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))
            for facs in obdata.polygons:
                indexFaces+=1
                if indexFaces == 2:
                    f.seek(-80,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
            
            
            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))


        elif len(obdata.vertices) == 6:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 256))

            f.write(pack("<H", len(obdata.vertices)*3))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))
            indexFaces = -1
            indexFaces2 = -1
            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))
            for facs in obdata.polygons:
                indexFaces+=1
                if indexFaces == 3:
                    f.seek(-96,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces == 1:
                    f.seek(-96,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
            
            
            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
        elif len(obdata.vertices) == 7:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 272))

            f.write(pack("<H", len(obdata.vertices)*3))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))
            indexFaces = -1
            indexFaces2 = -1
            indexFaces3 = -1
            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))
            
            for facs in obdata.polygons:
                indexFaces3+=1
                t1=128
                t2=1
                if indexFaces3 == 4:
                    f.seek(-112,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                    
                elif indexFaces3 == 2:
                    f.seek(-112,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces3 == 1:
                    f.seek(-112,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
            
            
            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
        elif len(obdata.vertices) == 8:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 288))

            f.write(pack("<H", len(obdata.vertices)*3))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))
            indexFaces = -1
            indexFaces2 = -1
            indexFaces3 = -1
            indexFaces4 = -1
            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))
            for facs in obdata.polygons:
                indexFaces4+=1
                
                if indexFaces4 == 5:
                    f.seek(-128,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces4 == 3:
                    if facs.vertices[0:3]:
                        f.seek(-128,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces4 == 2:
                    if facs.vertices[0:3]:
                        f.seek(-128,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces4 == 1:
                    if facs.vertices[0:3]:
                        f.seek(-128,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))

        elif len(obdata.vertices) == 9:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 304))

            f.write(pack("<H", len(obdata.vertices)*2))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))

            indexFaces5 = -1

            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))

            for facs in obdata.polygons:
                indexFaces5+=1
                
                if indexFaces5 == 6:
                    f.seek(-144,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces5 == 4:
                    f.seek(-144,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces5 == 3:
                    f.seek(-144,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces5 == 2:
                    f.seek(-144,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces5 == 1:
                    f.seek(-144,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)

            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))

        elif len(obdata.vertices) == 10:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 320))

            f.write(pack("<H", len(obdata.vertices)*2))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))

            indexFaces6 = -1

            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))

            for facs in obdata.polygons:
                indexFaces6+=1
                
                if indexFaces6 == 7:
                    f.seek(-160,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces6 == 5:
                    f.seek(-160,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)

                elif indexFaces6 == 4:
                    f.seek(-160,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)

                elif indexFaces6 == 3:
                    f.seek(-160,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces6 == 2:
                    f.seek(-160,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces6 == 1:
                    f.seek(-160,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        

            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
        elif len(obdata.vertices) == 11:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 336))

            f.write(pack("<H", len(obdata.vertices)*2))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))

            indexFaces7 = -1

            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))

            for facs in obdata.polygons:
                indexFaces7+=1
                if indexFaces7 == 8:
                    f.seek(-176,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces7 == 6:
                    f.seek(-176,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces7 == 5:
                    f.seek(-176,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces7 == 4:
                    f.seek(-176,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces7 == 3:
                    f.seek(-176,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces7 == 2:
                    f.seek(-176,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces7 == 1:
                    f.seek(-176,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        

            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
        elif len(obdata.vertices) == 12:
            f.write(pack("<I", 4))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 1))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 96))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
                                
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 352))
            f.write(pack("<H", len(obdata.vertices)*2))
            f.write(pack("<H", 24581))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<H", 86))
            f.write(pack("<H", 27649))
            f.write(pack("<I", 32768))
            f.write(pack("B", 0))
            f.write(pack("<H", 704))
            f.write(pack("B", 0x30))
            f.write(pack("B", 18))
            f.write(pack("B", 5))
            f.write(pack("B", 0))
            f.write(pack("B", 0))
            f.write(pack("<I", 0))
            f.write(pack("B", 0xD2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 108))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("<I", 128))
            f.write(pack("B", 64))
            f.write(pack("B", 2))
            f.write(pack("B", 48))
            f.write(pack("<I", 1298))
            f.write(pack("<I", 0))
            f.write(pack("B", 2))
            f.write(pack("B", 128))
            f.write(pack("B", 1))
            f.write(pack("B", 109))
            f.write(pack("<I", len(obdata.vertices)*3))
            f.write(pack("<I", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 3))
            f.write(pack("B", 128))
            f.write(pack("B", len(obdata.vertices)))
            f.write(pack("B", 108))

            indexFaces8 = -1

            for v in obdata.vertices:
                f.write(pack("<f", v.co.x))
                f.write(pack("<f", v.co.z))
                f.write(pack("<f", v.co.y))
                f.write(pack("<f", v.co.z*v.normal.z))
            for facs in obdata.polygons:
                indexFaces8+=1
                if indexFaces8 == 9:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces8 == 7:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces8 == 6:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces8 == 5:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces8 == 4:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces8 == 3:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces8 == 2:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                elif indexFaces8 == 1:
                    f.seek(-192,1)
                    if facs.vertices[0:3]:
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 1))
                        f.write(pack("B", 128))
                        f.seek(2,1)
                        f.seek(12,1)
                        f.write(pack("B", 0))
                        f.write(pack("B", 0))
                        f.seek(2,1)
                        

            f.write(pack("B", 1))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 1))
            f.write(pack("B", 0))
            f.write(pack("B", 3))
            f.write(pack("B", 0))
            f.write(pack("B", 20))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))

            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<I", 0))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
            f.write(pack("<f", 1))
    f.write(b"INST")
    f.write(pack("<I", len(bpy.data.objects)*80+16))
    f.write(pack("<I", len(bpy.data.objects)))
    f.write(pack("<I", 0))
    objIndex=0
    for i, obj in enumerate(bpy.data.objects):
        f.write(pack("<f", obj.scale[0]))
        f.write(pack("<f", math.radians(obj.rotation_euler[2])))
        f.write(pack("<f", math.radians(obj.rotation_euler[1])))
        f.write(pack("<f", 0))
        f.write(pack("<f", math.radians(-obj.rotation_euler[2])))
        f.write(pack("<f", obj.scale[1]))
        f.write(pack("<f", math.radians(obj.rotation_euler[0]))) # 28
        f.write(pack("<f", math.radians(-obj.rotation_euler[1]))) # 32
        f.write(pack("<f", 0))
        f.write(pack("<f", math.radians(-obj.rotation_euler[0])))
        f.write(pack("<f", obj.scale[2]))
        f.write(pack("<f", 0))
        f.write(pack("<f", obj.location[0]))
        f.write(pack("<f", obj.location[2]))
        f.write(pack("<f", obj.location[1]))
        f.write(pack("<f", 1))
        f.write(pack("<i", objIndex))
        f.write(pack("<I", 37))
        f.write(pack("<f", 0))
        f.write(pack("<f", 0))
        objIndex+=1
    f.write(b"SST0")
    f.write(pack("<I", 16))
    f.write(pack("<I", 0))
    f.write(pack("<I", 0))
    f.write(b"BNDS")
    f.write(pack("<I", 16))
    f.write(pack("<I", 0))
    f.write(pack("<I", 0))
